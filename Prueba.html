<html>
    <head>
        <title>
            Prueba de JavaScript
        </title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="styles/style.css" rel="stylesheet" type="text/css">
    </head>

    <body >
        
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8">
                
                <span class="img-container"> <!-- Inline parent element -->
                    <img src="https://lenguajejs.com/assets/logo.svg" alt="Logo js" class="text-center">
                </span>            

                <h1 class="text-center">Programming languages</h1>
                <input id="InputTXT" class="form-control" type="text" placeholder="e.g JavaScript" aria-label="default input example">
                <div class="col-md-12 container " >
                    <div id="ListaDiv" class="row ListLanguages" >

                    </div>
                </div>
            </div>
            <div class="col-md-2"></div>
        </div>
        
        <script type="text/javascript">

            let Lista=JSON.parse(localStorage.getItem("LsLanguages")) ;
            
            document.addEventListener("DOMContentLoaded", function(event) {
               
                if (Lista!=null && Lista.length >0) {
                    Lista.forEach(element => {
                    mCargarElementos(element.sName,element.iId);
                    });
                }          
            }            
            );

            function mCargarElementos(pintar,id)
            {
                let contenedor= document.getElementById('ListaDiv');
                    //<i class="fa fa-home"></i>
                let IconoDelete=document.createElement('i');
                //<i class="fa-sharp fa-solid fa-trash"></i>
                IconoDelete.className="fa fa-trash float-end";

                let conte=document.createElement('div');
                conte.className="";

                let teto =document.createElement('span');
                teto.textContent=pintar;
                teto.style='width: 110';
                conte.innerText=pintar;
                conte.appendChild(IconoDelete);

                 boton = document.createElement('button');
                 boton.className="btn btn-outline-light buttonLG";
                 //boton.type = 'button';
                 
                 boton.appendChild(conte);
                 
                // boton.value = pintar;
                 boton.id= 'div'+pintar+id;
                 boton.dataset.id=id;
                 boton.name = 'div'+pintar+id;
                 boton.onclick = function () {borrar(this.name)} //aqui llamamos a la funcion borrar
                
                // newdivv.appendChild(boton);

                document.getElementById('ListaDiv').appendChild(boton);
               
            }

            function borrar(obj) {//aqui la ejecutamos
                let languajeSeleccionado=document.getElementById(obj)
                document.getElementById('ListaDiv').removeChild(languajeSeleccionado);
                Lista=Lista.filter(o => o.iId != languajeSeleccionado.dataset.id);
                localStorage.setItem("LsLanguages",JSON.stringify(Lista));
            }

            document.getElementById("InputTXT").onkeydown = function() {myFunction(event)};

            function myFunction(event) {
                let control=document.getElementById("InputTXT");
                
                if (event.key=="Enter" && control.value.trim()!="") {

                    if (Lista!=null && Lista.length>0) {
                        
                    }else{
                        Lista= [];
                    }
                    let objetoLenguaje= {
                        iId: Lista.length,
                        sName: control.value
                    };                    
                    Lista.push(objetoLenguaje);                    

                    mCargarElementos(control.value,objetoLenguaje.iId);

                    localStorage.setItem("LsLanguages",JSON.stringify(Lista));

                    control.value="";   
                }                
            }

        </script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    </body>

</html>